<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ShadowTalk - Connect Anonymously</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --primary: #8b5cf6;
        --primary-dark: #7c3aed;
        --secondary: #1a1a1a;
        --accent: #10b981;
        --text: #e2e8f0;
        --text-secondary: #94a3b8;
        --background: #0f0f0f;
        --card-bg: #1e1e1e;
        --gradient: linear-gradient(135deg, #8b5cf6 0%, #a855f7 100%);
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: var(--background);
        color: var(--text);
        line-height: 1.6;
        overflow-x: hidden;
      }

      .intro-container {
        min-height: 100vh;
        background: radial-gradient(
            circle at 20% 80%,
            rgba(139, 92, 246, 0.1) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 80% 20%,
            rgba(168, 85, 247, 0.1) 0%,
            transparent 50%
          ),
          var(--background);
        position: relative;
      }

      .particles {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
      }

      .particle {
        position: absolute;
        background: var(--primary);
        border-radius: 50%;
        opacity: 0.3;
        animation: float 6s infinite ease-in-out;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px) rotate(0deg);
        }
        50% {
          transform: translateY(-20px) rotate(180deg);
        }
      }

      .navbar {
        padding: 1.5rem 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: relative;
        z-index: 10;
      }

      .logo {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        font-size: 1.5rem;
        font-weight: bold;
        background: var(--gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      .logo i {
        font-size: 2rem;
      }

      .nav-links {
        display: flex;
        gap: 2rem;
        align-items: center;
      }

      .nav-links a {
        color: var(--text-secondary);
        text-decoration: none;
        transition: color 0.3s ease;
        font-weight: 500;
      }

      .nav-links a:hover {
        color: var(--text);
      }

      .hero {
        max-width: 1200px;
        margin: 0 auto;
        padding: 4rem 2rem;
        text-align: center;
        position: relative;
        z-index: 5;
      }

      .hero h1 {
        font-size: 4rem;
        font-weight: 800;
        margin-bottom: 1.5rem;
        background: var(--gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        line-height: 1.1;
      }

      .hero p {
        font-size: 1.25rem;
        color: var(--text-secondary);
        max-width: 600px;
        margin: 0 auto 3rem;
      }

      .cta-buttons {
        display: flex;
        gap: 1rem;
        justify-content: center;
        margin-bottom: 4rem;
      }

      .btn {
        padding: 1rem 2rem;
        border: none;
        border-radius: 50px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
      }

      .btn-primary {
        background: var(--gradient);
        color: white;
        box-shadow: 0 4px 15px rgba(139, 92, 246, 0.4);
      }

      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(139, 92, 246, 0.6);
      }

      .btn-secondary {
        background: transparent;
        color: var(--text);
        border: 2px solid var(--text-secondary);
      }

      .btn-secondary:hover {
        border-color: var(--text);
        transform: translateY(-2px);
      }

      .features {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 2rem 4rem;
      }

      .feature-card {
        background: var(--card-bg);
        padding: 2rem;
        border-radius: 20px;
        text-align: center;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      }

      .feature-icon {
        width: 80px;
        height: 80px;
        margin: 0 auto 1.5rem;
        background: var(--gradient);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2rem;
        color: white;
      }

      .feature-card h3 {
        font-size: 1.5rem;
        margin-bottom: 1rem;
        color: var(--text);
      }

      .feature-card p {
        color: var(--text-secondary);
        line-height: 1.6;
      }

      .stats {
        background: var(--card-bg);
        margin: 4rem auto;
        padding: 3rem 2rem;
        border-radius: 20px;
        max-width: 1000px;
        text-align: center;
      }

      .stats h2 {
        font-size: 2.5rem;
        margin-bottom: 3rem;
        background: var(--gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 2rem;
      }

      .stat-item {
        text-align: center;
      }

      .stat-number {
        font-size: 3rem;
        font-weight: bold;
        background: var(--gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-bottom: 0.5rem;
      }

      .stat-label {
        color: var(--text-secondary);
        font-size: 1.1rem;
      }

      .how-it-works {
        max-width: 1000px;
        margin: 4rem auto;
        padding: 0 2rem;
        text-align: center;
      }

      .how-it-works h2 {
        font-size: 2.5rem;
        margin-bottom: 3rem;
        background: var(--gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      .steps {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 2rem;
      }

      .step {
        background: var(--card-bg);
        padding: 2rem;
        border-radius: 15px;
        position: relative;
      }

      .step-number {
        position: absolute;
        top: -20px;
        left: 50%;
        transform: translateX(-50%);
        width: 40px;
        height: 40px;
        background: var(--gradient);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: white;
      }

      .step h3 {
        margin: 1rem 0;
        color: var(--text);
      }

      .step p {
        color: var(--text-secondary);
      }

      .footer {
        background: var(--card-bg);
        padding: 3rem 2rem;
        text-align: center;
        margin-top: 4rem;
      }

      .footer-content {
        max-width: 1200px;
        margin: 0 auto;
      }

      .footer-links {
        display: flex;
        justify-content: center;
        gap: 2rem;
        margin: 2rem 0;
      }

      .footer-links a {
        color: var(--text-secondary);
        text-decoration: none;
        transition: color 0.3s ease;
      }

      .footer-links a:hover {
        color: var(--text);
      }

      .copyright {
        color: var(--text-secondary);
        margin-top: 2rem;
      }

      /* Demo Modal Styles */
      .demo-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        z-index: 1000;
        backdrop-filter: blur(5px);
      }

      .demo-modal.active {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .demo-container {
        background: var(--card-bg);
        border-radius: 20px;
        width: 90%;
        max-width: 800px;
        max-height: 90vh;
        overflow: hidden;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .demo-header {
        background: var(--gradient);
        padding: 1.5rem 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .demo-header h2 {
        color: white;
        margin: 0;
      }

      .demo-close {
        background: none;
        border: none;
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
        padding: 0.5rem;
        border-radius: 50%;
        transition: background 0.3s ease;
      }

      .demo-close:hover {
        background: rgba(255, 255, 255, 0.2);
      }

      .demo-content {
        padding: 2rem;
        display: flex;
        flex-direction: column;
        gap: 2rem;
      }

      .demo-chat-container {
        background: #2d2d2d;
        border-radius: 15px;
        overflow: hidden;
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .demo-chat-header {
        background: #3d3d3d;
        padding: 1rem 1.5rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .demo-chat-status {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        color: var(--accent);
        font-weight: 600;
      }

      .status-dot {
        width: 8px;
        height: 8px;
        background: var(--accent);
        border-radius: 50%;
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }

      .demo-chat-messages {
        height: 300px;
        overflow-y: auto;
        padding: 1.5rem;
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }

      .demo-message {
        max-width: 70%;
        padding: 1rem 1.5rem;
        border-radius: 20px;
        position: relative;
        animation: messageSlide 0.3s ease-out;
      }

      @keyframes messageSlide {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .demo-message.own {
        background: var(--gradient);
        color: white;
        align-self: flex-end;
        border-bottom-right-radius: 5px;
      }

      .demo-message.other {
        background: #3d3d3d;
        color: var(--text);
        align-self: flex-start;
        border-bottom-left-radius: 5px;
      }

      .demo-message-time {
        font-size: 0.75rem;
        opacity: 0.7;
        margin-top: 0.5rem;
      }

      .demo-typing-indicator {
        display: none;
        align-items: center;
        gap: 0.5rem;
        padding: 1rem 1.5rem;
        color: var(--text-secondary);
      }

      .demo-typing-indicator.active {
        display: flex;
      }

      .typing-dots {
        display: flex;
        gap: 3px;
      }

      .typing-dot {
        width: 6px;
        height: 6px;
        background: var(--text-secondary);
        border-radius: 50%;
        animation: typing 1.4s infinite ease-in-out;
      }

      .typing-dot:nth-child(1) {
        animation-delay: -0.32s;
      }
      .typing-dot:nth-child(2) {
        animation-delay: -0.16s;
      }

      @keyframes typing {
        0%,
        80%,
        100% {
          transform: scale(0.8);
          opacity: 0.5;
        }
        40% {
          transform: scale(1);
          opacity: 1;
        }
      }

      .demo-controls {
        display: flex;
        gap: 1rem;
        justify-content: center;
        padding-top: 1rem;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
      }

      .demo-btn {
        padding: 0.75rem 1.5rem;
        border: none;
        border-radius: 25px;
        background: var(--gradient);
        color: white;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: 600;
      }

      .demo-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(139, 92, 246, 0.4);
      }

      .demo-btn.secondary {
        background: transparent;
        border: 2px solid var(--text-secondary);
        color: var(--text);
      }

      .demo-btn.secondary:hover {
        border-color: var(--text);
      }

      .demo-features {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
      }

      .demo-feature {
        background: #3d3d3d;
        padding: 1rem;
        border-radius: 10px;
        text-align: center;
        transition: transform 0.3s ease;
      }

      .demo-feature:hover {
        transform: translateY(-3px);
      }

      .demo-feature i {
        font-size: 1.5rem;
        color: var(--primary);
        margin-bottom: 0.5rem;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .hero h1 {
          font-size: 2.5rem;
        }

        .cta-buttons {
          flex-direction: column;
          align-items: center;
        }

        .btn {
          width: 100%;
          max-width: 300px;
          justify-content: center;
        }

        .nav-links {
          display: none;
        }

        .features {
          grid-template-columns: 1fr;
        }

        .demo-container {
          width: 95%;
          margin: 1rem;
        }

        .demo-message {
          max-width: 85%;
        }
      }

      /* Animation classes */
      .fade-in {
        animation: fadeIn 1s ease-in;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .slide-in-left {
        animation: slideInLeft 1s ease-out;
      }

      @keyframes slideInLeft {
        from {
          opacity: 0;
          transform: translateX(-50px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      .slide-in-right {
        animation: slideInRight 1s ease-out;
      }

      @keyframes slideInRight {
        from {
          opacity: 0;
          transform: translateX(50px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }
    </style>
  </head>
  <body>
    <div class="intro-container">
      <!-- Animated Background Particles -->
      <div class="particles" id="particles"></div>

      <!-- Navigation -->
      <nav class="navbar">
        <div class="logo">
          <i class="fas fa-comments"></i>
          <span>ShadowTalk</span>
        </div>
        <div class="nav-links">
          <a href="#features">Features</a>
          <a href="#how-it-works">How It Works</a>
          <a href="#about">About</a>
          <a href="{{ url_for('login') }}">Login</a>
        </div>
      </nav>

      <!-- Hero Section -->
      <section class="hero">
        <h1 class="fade-in">Connect Anonymously with Strangers Worldwide</h1>
        <p class="fade-in">
          Experience meaningful conversations without revealing your identity.
          Join thousands of users in anonymous text and voice chats.
        </p>

        <div class="cta-buttons">
          <a
            href="{{ url_for('register') }}"
            class="btn btn-primary slide-in-left"
          >
            <i class="fas fa-rocket"></i>
            Get Started Free
          </a>
          <button id="demoBtn" class="btn btn-secondary slide-in-right">
            <i class="fas fa-play-circle"></i>
            See Demo
          </button>
        </div>
      </section>

      <!-- Features Section -->
      <section id="features" class="features">
        <div class="feature-card fade-in">
          <div class="feature-icon">
            <i class="fas fa-user-secret"></i>
          </div>
          <h3>Complete Anonymity</h3>
          <p>
            Chat without revealing your identity. No personal information
            required. Your privacy is our priority.
          </p>
        </div>

        <div class="feature-card fade-in">
          <div class="feature-icon">
            <i class="fas fa-globe"></i>
          </div>
          <h3>Global Connections</h3>
          <p>
            Connect with people from around the world. Break geographical
            barriers and make international friends.
          </p>
        </div>

        <div class="feature-card fade-in">
          <div class="feature-icon">
            <i class="fas fa-robot"></i>
          </div>
          <h3>AI-Powered Safety</h3>
          <p>
            Advanced AI moderation keeps conversations safe and respectful.
            Automatic toxicity detection and filtering.
          </p>
        </div>

        <div class="feature-card fade-in">
          <div class="feature-icon">
            <i class="fas fa-comment-medical"></i>
          </div>
          <h3>Smart Chat Features</h3>
          <p>
            Auto-translation, suggested replies, mood detection, and real-time
            typing indicators for better conversations.
          </p>
        </div>

        <div class="feature-card fade-in">
          <div class="feature-icon">
            <i class="fas fa-microphone"></i>
          </div>
          <h3>Voice Chat</h3>
          <p>
            Switch to voice conversations when you're ready. Crystal clear audio
            quality with noise cancellation.
          </p>
        </div>

        <div class="feature-card fade-in">
          <div class="feature-icon">
            <i class="fas fa-shield-alt"></i>
          </div>
          <h3>Full Control</h3>
          <p>
            Block, report, or skip users anytime. You're always in control of
            your chatting experience.
          </p>
        </div>
      </section>

      <!-- How It Works Section -->
      <section id="how-it-works" class="how-it-works">
        <h2>How ShadowTalk Works</h2>
        <div class="steps">
          <div class="step fade-in">
            <div class="step-number">1</div>
            <i
              class="fas fa-user-plus"
              style="
                font-size: 3rem;
                color: var(--primary);
                margin-bottom: 1rem;
              "
            ></i>
            <h3>Create Account</h3>
            <p>
              Sign up in seconds with just an email. No personal information
              required.
            </p>
          </div>

          <div class="step fade-in">
            <div class="step-number">2</div>
            <i
              class="fas fa-search"
              style="
                font-size: 3rem;
                color: var(--primary);
                margin-bottom: 1rem;
              "
            ></i>
            <h3>Find Partners</h3>
            <p>
              Our smart matching system connects you with like-minded strangers
              instantly.
            </p>
          </div>

          <div class="step fade-in">
            <div class="step-number">3</div>
            <i
              class="fas fa-comments"
              style="
                font-size: 3rem;
                color: var(--primary);
                margin-bottom: 1rem;
              "
            ></i>
            <h3>Start Chatting</h3>
            <p>
              Engage in meaningful conversations with complete anonymity and
              safety.
            </p>
          </div>
        </div>
      </section>

      <!-- Final CTA Section -->
      <section class="hero">
        <h2 class="fade-in">Ready to Start Your Anonymous Journey?</h2>
        <p class="fade-in">
          Join thousands of users experiencing genuine connections without
          compromising privacy.
        </p>
        <div class="cta-buttons">
          <a href="{{ url_for('register') }}" class="btn btn-primary">
            <i class="fas fa-user-plus"></i>
            Sign Up Now
          </a>
          <button id="demoBtn2" class="btn btn-secondary">
            <i class="fas fa-play-circle"></i>
            See Live Demo
          </button>
        </div>
      </section>

      <!-- Footer -->
      <!-- Footer -->
      <footer class="footer">
        <div class="footer-content">
          <div class="logo">
            <i class="fas fa-comments"></i>
            <span>ShadowTalk</span>
          </div>
          <div class="footer-links">
            <a href="{{ url_for('privacy_policy') }}">Privacy Policy</a>
            <a href="{{ url_for('terms_of_service') }}">Terms of Service</a>
            <a href="{{ url_for('safety_guidelines') }}">Safety Guidelines</a>
            <a href="{{ url_for('contact') }}">Contact</a>
            <a href="{{ url_for('help_center') }}">Help Center</a>
          </div>
          <div class="copyright">
            &copy; 2024 ShadowTalk. All rights reserved. | Anonymous Chat
            Platform
          </div>
        </div>
      </footer>
    </div>

    <!-- Demo Modal -->
    <div class="demo-modal" id="demoModal">
      <div class="demo-container">
        <div class="demo-header">
          <h2>ShadowTalk Live Demo</h2>
          <button class="demo-close" id="demoClose">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="demo-content">
          <div class="demo-chat-container">
            <div class="demo-chat-header">
              <div class="demo-chat-status">
                <div class="status-dot"></div>
                <span>Connected with Stranger</span>
              </div>
              <div class="demo-chat-info">
                <span>Demo Mode</span>
              </div>
            </div>
            <div class="demo-chat-messages" id="demoChatMessages">
              <div class="demo-message other">
                <div class="demo-message-text">
                  Hey there! 👋 Welcome to ShadowTalk demo!
                </div>
                <div class="demo-message-time">12:00 PM</div>
              </div>
              <div class="demo-message other">
                <div class="demo-message-text">
                  This is how real conversations look in our platform. You can
                  chat anonymously with people worldwide!
                </div>
                <div class="demo-message-time">12:01 PM</div>
              </div>
            </div>
            <div class="demo-typing-indicator" id="demoTypingIndicator">
              <div class="typing-dots">
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
              </div>
              <span>Stranger is typing...</span>
            </div>
          </div>

          <div class="demo-features">
            <div class="demo-feature">
              <i class="fas fa-shield-alt"></i>
              <div>AI Safety</div>
            </div>
            <div class="demo-feature">
              <i class="fas fa-language"></i>
              <div>Auto-Translate</div>
            </div>
            <div class="demo-feature">
              <i class="fas fa-robot"></i>
              <div>Smart Replies</div>
            </div>
            <div class="demo-feature">
              <i class="fas fa-microphone"></i>
              <div>Voice Chat</div>
            </div>
          </div>

          <div class="demo-controls">
            <button class="demo-btn" id="demoSendMessage">
              <i class="fas fa-paper-plane"></i>
              Send Demo Message
            </button>
            <button class="demo-btn secondary" id="demoAutoChat">
              <i class="fas fa-magic"></i>
              Auto Demo
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Demo messages for the chat simulation
      const demoMessages = [
        "Hey! How's your day going? 🌟",
        "I love how anonymous this chat is! No pressure to share personal info.",
        "The AI features here are amazing - it even suggests replies!",
        "Have you tried the voice chat feature yet? It's crystal clear!",
        "This platform connects people from all over the world. So cool! 🌍",
        "The safety features make me feel really comfortable chatting here.",
        "What kind of conversations do you usually have on ShadowTalk?",
        "I've met some really interesting people here. Everyone is so friendly!",
        "The auto-translate feature is a game-changer for international chats!",
        "Thanks for chatting with me! This demo shows how great ShadowTalk is! 🚀",
      ];

      // Create animated background particles
      function createParticles() {
        const particlesContainer = document.getElementById("particles");
        const particleCount = 15;

        for (let i = 0; i < particleCount; i++) {
          const particle = document.createElement("div");
          particle.className = "particle";

          // Random properties
          const size = Math.random() * 60 + 10;
          const posX = Math.random() * 100;
          const posY = Math.random() * 100;
          const delay = Math.random() * 5;
          const duration = Math.random() * 3 + 3;

          particle.style.width = `${size}px`;
          particle.style.height = `${size}px`;
          particle.style.left = `${posX}%`;
          particle.style.top = `${posY}%`;
          particle.style.animationDelay = `${delay}s`;
          particle.style.animationDuration = `${duration}s`;
          particle.style.opacity = Math.random() * 0.2 + 0.1;
          particle.style.background = `radial-gradient(circle, rgba(139, 92, 246, 0.3) 0%, transparent 70%)`;

          particlesContainer.appendChild(particle);
        }
      }

      // Demo functionality
      let demoMessageIndex = 0;
      let autoDemoInterval = null;

      function openDemo() {
        const modal = document.getElementById("demoModal");
        modal.classList.add("active");
        document.body.style.overflow = "hidden";
      }

      function closeDemo() {
        const modal = document.getElementById("demoModal");
        modal.classList.remove("active");
        document.body.style.overflow = "auto";
        stopAutoDemo();
      }

      function addDemoMessage(message, isOwn = false) {
        const messagesContainer = document.getElementById("demoChatMessages");
        const messageElement = document.createElement("div");
        messageElement.className = `demo-message ${isOwn ? "own" : "other"}`;

        const now = new Date();
        const timeString = now.toLocaleTimeString([], {
          hour: "2-digit",
          minute: "2-digit",
        });

        messageElement.innerHTML = `
                <div class="demo-message-text">${message}</div>
                <div class="demo-message-time">${timeString}</div>
            `;

        messagesContainer.appendChild(messageElement);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
      }

      function showTypingIndicator() {
        const indicator = document.getElementById("demoTypingIndicator");
        indicator.classList.add("active");
      }

      function hideTypingIndicator() {
        const indicator = document.getElementById("demoTypingIndicator");
        indicator.classList.remove("active");
      }

      function sendDemoMessage() {
        if (demoMessageIndex >= demoMessages.length) {
          demoMessageIndex = 0; // Reset to start
        }

        const message = demoMessages[demoMessageIndex];
        addDemoMessage(message, true);
        demoMessageIndex++;

        // Show typing indicator and then respond
        showTypingIndicator();
        setTimeout(() => {
          hideTypingIndicator();
          setTimeout(() => {
            const responses = [
              "That's interesting! Tell me more.",
              "I completely agree with you!",
              "Wow, I never thought about it that way!",
              "This is exactly why I love ShadowTalk!",
              "Have you been using the platform for long?",
              "The anonymity really makes conversations more genuine!",
              "I've had some amazing discussions here too!",
              "What's your favorite feature so far?",
              "The global connections are mind-blowing!",
              "Thanks for sharing that perspective! 🌟",
            ];
            const randomResponse =
              responses[Math.floor(Math.random() * responses.length)];
            addDemoMessage(randomResponse, false);
          }, 1000);
        }, 2000);
      }

      function startAutoDemo() {
        if (autoDemoInterval) return;

        autoDemoInterval = setInterval(() => {
          sendDemoMessage();
        }, 4000);

        // Send first message immediately
        setTimeout(sendDemoMessage, 1000);
      }

      function stopAutoDemo() {
        if (autoDemoInterval) {
          clearInterval(autoDemoInterval);
          autoDemoInterval = null;
        }
        hideTypingIndicator();
      }

      // Animate statistics counters
      function animateCounters() {
        const counters = document.querySelectorAll(".stat-number");
        const speed = 200;

        counters.forEach((counter) => {
          const target = parseInt(counter.getAttribute("data-target"));
          const count = parseInt(counter.innerText);
          const increment = target / speed;

          if (count < target) {
            counter.innerText = Math.ceil(count + increment);
            setTimeout(() => animateCounters(), 1);
          } else {
            counter.innerText = target;
          }
        });
      }

      // Intersection Observer for scroll animations
      function setupScrollAnimations() {
        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add("fade-in");
            }
          });
        });

        document
          .querySelectorAll(".feature-card, .step, .stats")
          .forEach((el) => {
            observer.observe(el);
          });
      }

      // Initialize everything when page loads
      document.addEventListener("DOMContentLoaded", function () {
        createParticles();
        setupScrollAnimations();

        // Set counter targets
        document.getElementById("userCount").setAttribute("data-target", 50000);
        document
          .getElementById("chatCount")
          .setAttribute("data-target", 1000000);
        document
          .getElementById("countryCount")
          .setAttribute("data-target", 150);
        document
          .getElementById("satisfactionRate")
          .setAttribute("data-target", 98);

        // Demo event listeners
        document.getElementById("demoBtn").addEventListener("click", openDemo);
        document.getElementById("demoBtn2").addEventListener("click", openDemo);
        document
          .getElementById("demoClose")
          .addEventListener("click", closeDemo);
        document
          .getElementById("demoSendMessage")
          .addEventListener("click", sendDemoMessage);
        document
          .getElementById("demoAutoChat")
          .addEventListener("click", function () {
            if (autoDemoInterval) {
              stopAutoDemo();
              this.innerHTML = '<i class="fas fa-magic"></i> Auto Demo';
            } else {
              startAutoDemo();
              this.innerHTML = '<i class="fas fa-stop"></i> Stop Demo';
            }
          });

        // Close modal when clicking outside
        document
          .getElementById("demoModal")
          .addEventListener("click", function (e) {
            if (e.target === this) {
              closeDemo();
            }
          });

        // Close modal with Escape key
        document.addEventListener("keydown", function (e) {
          if (e.key === "Escape") {
            closeDemo();
          }
        });

        // Start counter animation when stats section is visible
        const statsObserver = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              animateCounters();
              statsObserver.unobserve(entry.target);
            }
          });
        });

        statsObserver.observe(document.querySelector(".stats"));
      });

      // Smooth scrolling for navigation links
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            target.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
          }
        });
      });
    </script>
  </body>
</html>
